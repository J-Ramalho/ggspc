<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Measurement System Analysis | industRial data science</title>
  <meta name="description" content="Measurement System Analysis | industRial data science" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Measurement System Analysis | industRial data science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/img/cover3.png" />
  
  <meta name="github-repo" content="J-Ramalho/industRialds" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Measurement System Analysis | industRial data science" />
  
  
  <meta name="twitter:image" content="/img/cover3.png" />

<meta name="author" content="JoÃ£o Ramalho" />


<meta name="date" content="2021-05-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="design-for-six-sigma.html"/>
<link rel="next" href="DOE.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-122820355-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-122820355-1');
</script>


<script type="text/javascript">
mattcrump=1;
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/industRialds.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">industRial data science</a></li>

<li class="divider"></li>
<li class="part"><span><b>I INTRODUCTION</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>output: pdf_document</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html"><i class="fa fa-check"></i>Toolbox</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#r-and-rstudio"><i class="fa fa-check"></i>R and RStudio</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#packages"><i class="fa fa-check"></i>Packages</a>
<ul>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#installation"><i class="fa fa-check"></i>Installation</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#highlights"><i class="fa fa-check"></i>Highlights</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#datasets"><i class="fa fa-check"></i>Datasets</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#on-the-web"><i class="fa fa-check"></i>On the web</a></li>
<li class="chapter" data-level="" data-path="toolbox.html"><a href="toolbox.html#locally"><i class="fa fa-check"></i>Locally</a></li>
</ul></li>
<li class="part"><span><b>II CASE STUDIES</b></span></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html"><i class="fa fa-check"></i>Design for Six Sigma</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#pareto"><i class="fa fa-check"></i>Pareto</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#collecting-defects"><i class="fa fa-check"></i>Collecting defects</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#paretochart"><i class="fa fa-check"></i>Pareto chart</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#ishikawa"><i class="fa fa-check"></i>Ishikawa</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#listing-root-causes"><i class="fa fa-check"></i>Listing root causes</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#fishbone"><i class="fa fa-check"></i>Fishbone diagram</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#correlation"><i class="fa fa-check"></i>Correlation</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#matrix"><i class="fa fa-check"></i>Matrix</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#tileplot"><i class="fa fa-check"></i>Tileplot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#clustering"><i class="fa fa-check"></i>Clustering</a>
<ul>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#clustering-algorithms"><i class="fa fa-check"></i>Clustering algorithms</a></li>
<li class="chapter" data-level="" data-path="design-for-six-sigma.html"><a href="design-for-six-sigma.html#network_plot"><i class="fa fa-check"></i>Network plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html"><i class="fa fa-check"></i>Measurement System Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#calibration"><i class="fa fa-check"></i>Calibration</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias_plot"><i class="fa fa-check"></i>Bias plot</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#bias_report"><i class="fa fa-check"></i>Bias report</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#precision"><i class="fa fa-check"></i>Precision</a>
<ul>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gageRnR"><i class="fa fa-check"></i>Gage r&amp;R</a></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#gage_acceptance"><i class="fa fa-check"></i>Gage acceptance</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="MSA.html"><a href="MSA.html#uncertainty"><i class="fa fa-check"></i>Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html"><i class="fa fa-check"></i>Design of Experiments</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#means-comparison"><i class="fa fa-check"></i>Means comparison</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#t.test"><i class="fa fa-check"></i>t-test one sample</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#t-test-two-samples"><i class="fa fa-check"></i>t-test two samples</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#variances-comparison"><i class="fa fa-check"></i>Variances comparison</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#var.test"><i class="fa fa-check"></i>F-test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#levene.test"><i class="fa fa-check"></i>Levene test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#linear-regression"><i class="fa fa-check"></i>Linear regression</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#lm"><i class="fa fa-check"></i>Linear model</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#contr.treatment"><i class="fa fa-check"></i>Contrasts treatment</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals-analysis"><i class="fa fa-check"></i>Residuals analysis</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#augment"><i class="fa fa-check"></i>Model augment</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals_timeseries"><i class="fa fa-check"></i>Timeseries plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#autocorrelation"><i class="fa fa-check"></i>Autocorrelation test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals_fit"><i class="fa fa-check"></i>Residuals-Fit plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#homocedasticity"><i class="fa fa-check"></i>Homocedasticity</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#geom_qq"><i class="fa fa-check"></i>Normality plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#shapiroTest"><i class="fa fa-check"></i>Normality test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#std_residuals_fit"><i class="fa fa-check"></i>Standard Residuals-Fit plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#outliers"><i class="fa fa-check"></i>Outliers test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#cooks"><i class="fa fa-check"></i>Cooks distance</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#R-squared"><i class="fa fa-check"></i>Coefficient of determination</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#multiple-means-comparison"><i class="fa fa-check"></i>Multiple means comparison</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#aov"><i class="fa fa-check"></i>Analysis of variance</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#tukey"><i class="fa fa-check"></i>Pairwise comparison</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#fisherLSD"><i class="fa fa-check"></i>Least significant difference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#forecasting"><i class="fa fa-check"></i>Forecasting</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#predict"><i class="fa fa-check"></i>Predict</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interactions"><i class="fa fa-check"></i>Interactions</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#formula"><i class="fa fa-check"></i>Model formulae</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction.plot"><i class="fa fa-check"></i>Interaction plot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#residuals-check"><i class="fa fa-check"></i>Residuals check</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#simple_timeseries"><i class="fa fa-check"></i>Simplified timeseries</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#plot_model"><i class="fa fa-check"></i>Residuals summary</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#cooks_histogram"><i class="fa fa-check"></i>Cooks histogram</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova"><i class="fa fa-check"></i>Anova check</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#covariance"><i class="fa fa-check"></i>Covariance</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#cor.test"><i class="fa fa-check"></i>Correlation test</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#ancova"><i class="fa fa-check"></i>Analysis of covariance</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#general-factorial-designs"><i class="fa fa-check"></i>General factorial designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#fac.design"><i class="fa fa-check"></i>Factorial design</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#main_effects"><i class="fa fa-check"></i>Main effects plots</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#interaction_plot"><i class="fa fa-check"></i>Interaction plots (custom)</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#anova_three"><i class="fa fa-check"></i>Anova with 3rd level interactions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#two-level-designs"><i class="fa fa-check"></i>Two level designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding_levels"><i class="fa fa-check"></i>Coding levels</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#plotMeans"><i class="fa fa-check"></i>Interaction plots with SE</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#adj_Rsquare"><i class="fa fa-check"></i>Adjusted R-squared</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coding_inputs"><i class="fa fa-check"></i>Coding inputs</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#coded_prediction"><i class="fa fa-check"></i>Coded prediction</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#response-surface"><i class="fa fa-check"></i>Response surface</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#persp"><i class="fa fa-check"></i>Perspective plot</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#single-replicate-designs"><i class="fa fa-check"></i>Single replicate designs</a>
<ul>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#qqPlot"><i class="fa fa-check"></i>Effects normal plot</a></li>
<li class="chapter" data-level="" data-path="DOE.html"><a href="DOE.html#effects_contribution"><i class="fa fa-check"></i>Effects contribution table</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html"><i class="fa fa-check"></i>Statistical Process Control</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar-r-charts"><i class="fa fa-check"></i>xbar-R charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#xbar_chart"><i class="fa fa-check"></i>Mean chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#Rchart"><i class="fa fa-check"></i>Range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#limits.xbar"><i class="fa fa-check"></i>Control limits</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#cpk-charts"><i class="fa fa-check"></i>Cpk charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#off_spec"><i class="fa fa-check"></i>Off specification</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process_Cpk"><i class="fa fa-check"></i>Process Capability</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#sigma_table"><i class="fa fa-check"></i>Sigma conversion table</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process.capability"><i class="fa fa-check"></i>Capability chart</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#i-mr-charts"><i class="fa fa-check"></i>I-MR charts</a>
<ul>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#process_stats"><i class="fa fa-check"></i>Process statistics</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_I"><i class="fa fa-check"></i>Individual chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_IMR"><i class="fa fa-check"></i>Moving range chart</a></li>
<li class="chapter" data-level="" data-path="SPC.html"><a href="SPC.html#chart_Cpk"><i class="fa fa-check"></i>Capability chart (custom)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III APPENDIX</b></span></li>
<li class="chapter" data-level="" data-path="contents.html"><a href="contents.html"><i class="fa fa-check"></i>Index</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i>Glossary</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistics"><i class="fa fa-check"></i>Statistics</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#notation-conventions"><i class="fa fa-check"></i>Notation conventions</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#descriptive-statistics"><i class="fa fa-check"></i>Descriptive statistics</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#probability"><i class="fa fa-check"></i>Probability</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#statistical-inference"><i class="fa fa-check"></i>Statistical Inference</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#dfss"><i class="fa fa-check"></i>DFSS</a>
<ul>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-customer"><i class="fa fa-check"></i>Voice of Customer</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#voice-of-process"><i class="fa fa-check"></i>Voice of Process</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#msa"><i class="fa fa-check"></i>MSA</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#doe"><i class="fa fa-check"></i>DOE</a></li>
<li class="chapter" data-level="" data-path="glossary.html"><a href="glossary.html#spc"><i class="fa fa-check"></i>SPC</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">indust<b style='color:#38598CFF'>R</b>ial data science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="MSA" class="section level1">
<h1>Measurement System Analysis</h1>
<p>Analyzing and validating measurement methods and tools is the base for ensuring the quality of manufacturing products. For most commercial products it goes beyond simply satisfying consumer expectations and has regulatory and legal implications. Using measurement tools in industrial setups for high volume production goes naturally beyond buying and installing an equipment. It requires clear operating procedures, trained operators and tested devices for the specific range applications and products.</p>
<p>There are many different normalizing bodies in the metrology domain with different approaches and terminology. The cases in this section follow a simplified step by step approach aiming at giving an overview of how data treatment can be done with R.</p>
<p>The first case treats the calibration of a recently acquired measurement device by comparing it to a reference device. It provides statistical analysis of the bias of the method compared with the reference for the full measurement range. The following case deals with the estimation of the method precision, namely the measurement repeatability and reproducibility under regular utilization conditions. It provides examples on acceptance criteria typical in industrial context. The final case study presents calculation of the method uncertainty, a more comprehensive indicator taking into account the calculations done in the previous cases.</p>
<div id="calibration" class="section level2">
<h2>Calibration</h2>
<div class="marginnote">
<p><b class="highlight">Case study: juice production plant</b></p>
<p>The Quality Assurance Head has acquired a fast dry matter content measurement device from the supplier DRX. The rational for the acquisition has been the important reduction of the control time. Before it enters operation its performance is being assessed and validated.</p>
<div class="figure" style="text-align: center"><span id="fig:img-juice"></span>
<img src="img/juice_bottling_bw.jpg" alt="juice bottling line" width="100%" />
<p class="caption">
Figure 1: juice bottling line
</p>
</div>
</div>
<p>A first step after a measurement equipment acquisition is the assessment of the response over the entire measurement range. In particular it is important to verify its linearity and variability and determine the average bias throughout the measurement range.</p>
<p>In a <b class="highlight">juice production plant</b> the dry matter content for the top seller is around 13% dry matter content. Typical specifications are the Premium fresh apple juice with 12.4 % and the Austrian beetroot juice with 13.2%. Some other specialties may have a higher content up such as the Organic carrot that has 16.3%. After consulting with the Manufacturing Team Leader, the Quality Assurance Head selects checking the equipment in the range of 10 to 20% dry matter content. For the calibration assessment samples are produced at target values set at round numbers (10%, 15% and so on). This data is captured in the <code>juice_drymatter</code> dataset of which weâre checki</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="MSA.html#cb1-1" aria-hidden="true" tabindex="-1"></a>juice_drymatter <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="MSA.html#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="MSA.html#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb1-4"><a href="MSA.html#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">&quot;c&quot;</span>,</span>
<span id="cb1-5"><a href="MSA.html#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;juice dry matter data&quot;</span></span>
<span id="cb1-6"><a href="MSA.html#cb1-6" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<table>
<caption><span id="tab:code-juicesummary">Table 1: </span>juice dry matter data</caption>
<thead>
<tr class="header">
<th align="center">product</th>
<th align="center">drymatter_TGT</th>
<th align="center">speed</th>
<th align="center">particle_size</th>
<th align="center">part</th>
<th align="center">drymatter_DRX</th>
<th align="center">drymatter_REF</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">apple</td>
<td align="center">10</td>
<td align="center">20</td>
<td align="center">250</td>
<td align="center">1</td>
<td align="center">9.80</td>
<td align="center">10.05</td>
</tr>
<tr class="even">
<td align="center">apple</td>
<td align="center">10</td>
<td align="center">20</td>
<td align="center">250</td>
<td align="center">2</td>
<td align="center">9.82</td>
<td align="center">10.05</td>
</tr>
<tr class="odd">
<td align="center">apple</td>
<td align="center">10</td>
<td align="center">20</td>
<td align="center">250</td>
<td align="center">3</td>
<td align="center">9.82</td>
<td align="center">10.05</td>
</tr>
<tr class="even">
<td align="center">beetroot</td>
<td align="center">10</td>
<td align="center">20</td>
<td align="center">250</td>
<td align="center">1</td>
<td align="center">9.79</td>
<td align="center">10.03</td>
</tr>
<tr class="odd">
<td align="center">beetroot</td>
<td align="center">10</td>
<td align="center">20</td>
<td align="center">250</td>
<td align="center">2</td>
<td align="center">9.75</td>
<td align="center">10.03</td>
</tr>
</tbody>
</table>
<p>We see in this raw dataset that it contains the same samples dry matter content measured twice. First with the with the new equipment (DRX) and then with the reference equipment (Ref). The reference equipment is considered as such because it has been validated and accepted by the head quarters quality department. The difference between the two devices for each measurement is calculated below and allocated to a new variable with the name bias.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="MSA.html#cb2-1" aria-hidden="true" tabindex="-1"></a>juice_drymatter <span class="ot">&lt;-</span> juice_drymatter <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="MSA.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bias =</span> drymatter_DRX <span class="sc">-</span> drymatter_REF, <span class="at">part =</span> <span class="fu">as_factor</span>(part))</span></code></pre></div>
<p>A first look at the bias with the <code>skim()</code> function from <code>{skimr}</code> gives already an indication that the bias is not constant along the measurement range.</p>
<div class="marginnote">
<p>See <a href="toolbox.html#skimr">{skimr}</a> for more details on this R package, an alternative to base::summary()</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="MSA.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="MSA.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(juice_drymatter<span class="sc">$</span>bias) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="MSA.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">yank</span>(<span class="st">&quot;numeric&quot;</span>)</span></code></pre></div>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">data</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">-0.3</td>
<td align="right">0.14</td>
<td align="right">-0.63</td>
<td align="right">-0.4</td>
<td align="right">-0.29</td>
<td align="right">-0.19</td>
<td align="right">-0.07</td>
<td align="left">âââââ</td>
</tr>
</tbody>
</table>
<p>Such results are not encouraging because a non regular bias along the range may require specific correction for different product which may be not practical and prone to error. Often this requires to dig into detail to understand the causes of the bias and determine if they are related with the physical phenomena and if there are clear controllable causes. Ultimately this could result is narrowing the measurement range and validating a specific device and method for a specific product specification target. For the Quality Assurance Manager it is too early to draw conclusions and he establishes a more detailed plot with <code>{ggplot2}</code> to better visualize the data.</p>
<div id="bias_plot" class="section level3">
<h3>Bias plot</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="MSA.html#cb5-1" aria-hidden="true" tabindex="-1"></a>juice_drymatter <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="MSA.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> drymatter_REF, <span class="at">y =</span> bias)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="MSA.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-4"><a href="MSA.html#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> T, ) <span class="sc">+</span></span>
<span id="cb5-5"><a href="MSA.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(</span>
<span id="cb5-6"><a href="MSA.html#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">21</span>),</span>
<span id="cb5-7"><a href="MSA.html#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span>.<span class="dv">75</span>,<span class="dv">0</span>), <span class="at">expand =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="MSA.html#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_industRial</span>() <span class="sc">+</span></span>
<span id="cb5-9"><a href="MSA.html#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Dry matter method validation&quot;</span>,</span>
<span id="cb5-10"><a href="MSA.html#cb5-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Gage Linearity&quot;</span>,</span>
<span id="cb5-11"><a href="MSA.html#cb5-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;Dataset: juice_drymatter233A, Operator: S.Jonathan)&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:fig-juicebiasplot"></span>
<img src="4_msa_files/figure-html/fig-juicebiasplot-1.png" alt="bias plot example" width="100%" />
<p class="caption">
Figure 2: bias plot example
</p>
</div>
<p>This type of plot is usually called <em>bias plot</em> and provides a view of how the difference between the measurements obtained with the new device and the reference device compare allong the measuremen range. In the plot generated an additional regression line has been introduced with <code>geom_smooth</code> from <code>{ggplot2}</code>. There are several ways to assess the linearity. In this case weâre going to remain at a visual check only leaving to the Design of Experiments case study a more thourough verification.</p>
<p>The linear model appears as well adapted in this case. The first check is the observation that regression line passes close to the averages of each level of the dry matter factor. Nevertheless the slope is rather steep showing a clear increase of the bias (in the negative direction) with the increase in dry matter content.</p>
</div>
<div id="bias_report" class="section level3">
<h3>Bias report</h3>
<p>Using well known <code>{dplyr}</code> function the plot is complemented with statistics of the bias for each level of dry matter target: mean, median, standard deviation. A good practice that took some time to adopt but now is well anchored is to always present the sample size which speaks for the relevance of the statistical indicators.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="MSA.html#cb6-1" aria-hidden="true" tabindex="-1"></a>juice_drymatter <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="MSA.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(drymatter_TGT) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="MSA.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">bias_mean =</span> <span class="fu">mean</span>(bias, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb6-4"><a href="MSA.html#cb6-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">bias_median =</span> <span class="fu">median</span>(bias, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb6-5"><a href="MSA.html#cb6-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">bias_sd =</span> <span class="fu">sd</span>(bias, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb6-6"><a href="MSA.html#cb6-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">bias_n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="MSA.html#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select(drymatter_TGT, bias_mean, bias_median) %&gt;%</span></span>
<span id="cb6-8"><a href="MSA.html#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">align =</span> <span class="st">&quot;c&quot;</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="center">drymatter_TGT</th>
<th align="center">bias_mean</th>
<th align="center">bias_median</th>
<th align="center">bias_sd</th>
<th align="center">bias_n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">10</td>
<td align="center">-0.17</td>
<td align="center">-0.15</td>
<td align="center">0.07</td>
<td align="center">36</td>
</tr>
<tr class="even">
<td align="center">15</td>
<td align="center">-0.29</td>
<td align="center">-0.31</td>
<td align="center">0.10</td>
<td align="center">36</td>
</tr>
<tr class="odd">
<td align="center">20</td>
<td align="center">-0.44</td>
<td align="center">-0.44</td>
<td align="center">0.10</td>
<td align="center">36</td>
</tr>
</tbody>
</table>
<p>Mean and median bias are very close which indicates that the data is equally distributed around the mean The standard deviation is also very similar from level to level indicating that the measurement variability is not depending on the range of measurement. A decision now needs to be taken on which systematic offset to apply depending on the operational context. As mentioned most commercial products on the production line where the device is used have a target specification around 13% therefore the Quality Assurance Head decides together with Manufacturing Team Leader to put in the operating procedure of the device a unique offset of 0.3 g.</p>
</div>
</div>
<div id="precision" class="section level2">
<h2>Precision</h2>
<div class="marginnote">
<p><b class="highlight">Case study: tablet compaction process</b></p>
<p>Modern pharmaceutical tablet presses reach output volumes of up to 1,700,000 tablets per hour. These huge volumes require frequent in-process quality control for the tablet weight, thickness and hardness.</p>
<div class="figure" style="text-align: center"><span id="fig:img-tablet"></span>
<img src="img/tablet_micrometer.png" alt="Tablet thickness micrometer" width="100%" />
<p class="caption">
Figure 3: Tablet thickness micrometer
</p>
</div>
</div>
<p>Pharmaceutical production setups combine extreme high volumes with stringent quality demands. In this context many manufacturing plants have inline automatic measurement devices providing automatic data collection to a central database but it is not uncommon to see hand held devices and manual log of measurements in spreadsheets. In an age of machine learning and sophisticated predictive tools this may seem awkward but it is common to see coexisting old and new approaches on the shop floor. A recurring check of measurement devices is the famous gage r&amp;R. r&amp;R stands for reproducibility and Reproductibility which combined give the instrument precision, according to the ISO 5725. In any case automatic or manual the way to assess the measuremen device should follow the same approach.</p>
<p>In our case weâre looking into a pharmaceutical company where a <b class="highlight">tablet compaction process</b> the quality measurement system requires the Production Operator to sample tablets on a regular basis and log the thickness in a spreadsheet on the line. Measurements are done with a micrometer build and acquired specifically for this purpose that has a fixture developed to fit the shape of the tablet.</p>
<p>Besides thickness, the quality measurement system requires the operator to collect quite an large variety of parameters including room conditions too. Elaborating on this a Quality Engineer has prepared a specific file for the gage r&amp;R that also included the replicate number. As it is common practice he asked the measurements to be done by several operators. This data has been loaded into R and is available in the dataset <code>tablet_thickness</code> and an extract is presented here in raw:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="MSA.html#cb7-1" aria-hidden="true" tabindex="-1"></a>tablet_thickness <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="MSA.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="MSA.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb7-4"><a href="MSA.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="st">&quot;c&quot;</span>,</span>
<span id="cb7-5"><a href="MSA.html#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;tablet thickness gage r&amp;R data&quot;</span></span>
<span id="cb7-6"><a href="MSA.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<table>
<caption><span id="tab:tbl-tabletthickness">Table 2: </span>tablet thickness gage r&amp;R data</caption>
<colgroup>
<col width="7%" />
<col width="3%" />
<col width="5%" />
<col width="7%" />
<col width="4%" />
<col width="12%" />
<col width="6%" />
<col width="12%" />
<col width="11%" />
<col width="14%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Position</th>
<th align="center">Size</th>
<th align="center">Tablet</th>
<th align="center">Replicate</th>
<th align="center">Day</th>
<th align="center">Date [DD.MM.YYYY]</th>
<th align="center">Operator</th>
<th align="center">Thickness [micron]</th>
<th align="center">Temperature [Â°C]</th>
<th align="center">Relative Humidity [%]</th>
<th align="center">Luminescence [lux]</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Position 1</td>
<td align="center">L</td>
<td align="center">L001</td>
<td align="center">1</td>
<td align="center">Day 1</td>
<td align="center">18/11/2020</td>
<td align="center">Paulo</td>
<td align="center">1802.519</td>
<td align="center">22.3</td>
<td align="center">32.7</td>
<td align="center">568.6</td>
</tr>
<tr class="even">
<td align="center">Position 1</td>
<td align="center">L</td>
<td align="center">L001</td>
<td align="center">2</td>
<td align="center">Day 1</td>
<td align="center">18/11/2020</td>
<td align="center">Paulo</td>
<td align="center">1802.783</td>
<td align="center">22.3</td>
<td align="center">32.8</td>
<td align="center">580.4</td>
</tr>
<tr class="odd">
<td align="center">Position 1</td>
<td align="center">L</td>
<td align="center">L001</td>
<td align="center">3</td>
<td align="center">Day 1</td>
<td align="center">18/11/2020</td>
<td align="center">Paulo</td>
<td align="center">1803.989</td>
<td align="center">22.3</td>
<td align="center">32.8</td>
<td align="center">580.5</td>
</tr>
</tbody>
</table>
<p>It is an excellent practice to look at raw data because it gives an immediate perception of general aspects such as the number of variables, their levels and their datatypes. Although this is irreplaceable it is possible to go further and <code>skim()</code> provides an excellent complement and summary. Below we see that the test requested by the Quality Engineer has required 675 measurements on 11 different variables by 3 different operators. We can see room conditions are stable, rather normally distributed and having small standard deviations and we can even see that thickness appears with 3 groups which seems related with the 3 sizes noted in the Size column.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="MSA.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(tablet_thickness) </span></code></pre></div>
<table>
<caption><span id="tab:tbl-tabletskim">Table 3: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">tablet_thickness</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">675</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">11</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">5</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Position</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Size</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Tablet</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">15</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Day</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Date [DD.MM.YYYY]</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">10</td>
<td align="right">10</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Operator</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<colgroup>
<col width="20%" />
<col width="9%" />
<col width="13%" />
<col width="7%" />
<col width="6%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Replicate</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3.00</td>
<td align="right">1.42</td>
<td align="right">1.00</td>
<td align="right">2.00</td>
<td align="right">3.00</td>
<td align="right">4.00</td>
<td align="right">5.00</td>
<td align="left">âââââ</td>
</tr>
<tr class="even">
<td align="left">Thickness [micron]</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1523.01</td>
<td align="right">242.72</td>
<td align="right">1193.62</td>
<td align="right">1219.39</td>
<td align="right">1549.25</td>
<td align="right">1802.99</td>
<td align="right">1812.85</td>
<td align="left">âââââ</td>
</tr>
<tr class="odd">
<td align="left">Temperature [Â°C]</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">21.30</td>
<td align="right">1.52</td>
<td align="right">18.00</td>
<td align="right">20.00</td>
<td align="right">21.10</td>
<td align="right">22.70</td>
<td align="right">24.90</td>
<td align="left">âââââ</td>
</tr>
<tr class="even">
<td align="left">Relative Humidity [%]</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">33.08</td>
<td align="right">1.59</td>
<td align="right">29.70</td>
<td align="right">31.80</td>
<td align="right">32.70</td>
<td align="right">34.20</td>
<td align="right">36.70</td>
<td align="left">âââââ</td>
</tr>
<tr class="odd">
<td align="left">Luminescence [lux]</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">548.78</td>
<td align="right">48.05</td>
<td align="right">467.50</td>
<td align="right">528.50</td>
<td align="right">545.80</td>
<td align="right">552.50</td>
<td align="right">992.20</td>
<td align="left">âââââ</td>
</tr>
</tbody>
</table>
<p>The initial idea of the Quality Engineer was to establish a separate gage r&amp;R by tablet size. There is sometimes debate if in the study several different specification should be combined or not. In the last quality weekly meeting this was reason for lively discussions with various logical arguments from the Production Leader and the Engineering Manager. They ended up accepting the proposal of a separate gage per size on the logic that it is important to compare the measurement method variability not only with the process variability but also with the specification itself.</p>
<p>Data in excel files to have most of the time human readable formats and the files being open they usually end up with long variable names. Unlike the classical <code>read.csv()</code> function from the base R the <code>read_csv()</code> function from <code>{readr}</code> is not converting character variables to factors. This is a good behavior in our view because it allows for better control and awareness of what is happening. In this case the Quality Engineer is acquainted to the <code>{tidyverse}</code> and is now making the conversion specifically on the desired variables size, tablet and operator. He also makes the filtering for the size L for which he will do the first r&amp;R study.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="MSA.html#cb9-1" aria-hidden="true" tabindex="-1"></a>tablet_thickness <span class="ot">&lt;-</span> tablet_thickness <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="MSA.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="MSA.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(size, tablet, operator), as_factor))</span>
<span id="cb9-4"><a href="MSA.html#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="MSA.html#cb9-5" aria-hidden="true" tabindex="-1"></a>tablet_L <span class="ot">&lt;-</span> tablet_thickness <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="MSA.html#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(size <span class="sc">==</span> <span class="st">&quot;L&quot;</span>)</span></code></pre></div>
<p>Now that the dataset is clean and ready he moves forward with the <code>ss.rr()</code> function from the <code>{SixSigma}</code> package.</p>
<div id="gageRnR" class="section level3">
<h3>Gage r&amp;R</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="MSA.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SixSigma)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="MSA.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dimensions for chunk output when included: fig.dim=c(8, 10)</span></span>
<span id="cb11-2"><a href="MSA.html#cb11-2" aria-hidden="true" tabindex="-1"></a>tablet_L_rr <span class="ot">&lt;-</span> <span class="fu">ss.rr</span>(</span>
<span id="cb11-3"><a href="MSA.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> tablet_L, </span>
<span id="cb11-4"><a href="MSA.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> thickness_micron, </span>
<span id="cb11-5"><a href="MSA.html#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">part =</span> tablet, </span>
<span id="cb11-6"><a href="MSA.html#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">appr =</span> operator, </span>
<span id="cb11-7"><a href="MSA.html#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">alphaLim =</span> <span class="dv">1</span>,</span>
<span id="cb11-8"><a href="MSA.html#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">errorTerm =</span> <span class="st">&quot;repeatability&quot;</span>,</span>
<span id="cb11-9"><a href="MSA.html#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Micrometer FTR600</span><span class="sc">\n</span><span class="st">r&amp;R for tablet thickness&quot;</span>,</span>
<span id="cb11-10"><a href="MSA.html#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">sub =</span> <span class="st">&quot;Tablet L&quot;</span>,</span>
<span id="cb11-11"><a href="MSA.html#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">lsl =</span> <span class="dv">1775</span>,</span>
<span id="cb11-12"><a href="MSA.html#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">usl =</span> <span class="dv">1825</span></span>
<span id="cb11-13"><a href="MSA.html#cb11-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The <code>ss.rr</code> function takes the filtered <code>tablet_L</code> dataset and <code>var</code>, <code>part</code> and the arguments <code>appr</code> to precise what is the measurement variable, the part and the operator in this order. Then to be noted that the <code>alphaLim</code> argument is set to 1 in this first assessment. This is to keep all the model terms including non significant one. In future analysis this can be set to 0.05 the usual significance threshold and those non significant terms are omitted. Another detail important to ensure is to select the repeatability as the <code>errorTerm</code> otherwise we get different results than those obtained with base anova and other software aligned with the <span class="citation"><a href="#ref-AIAG2010" role="doc-biblioref">Automotive Industry Action Group</a> (<a href="#ref-AIAG2010" role="doc-biblioref">2010</a>)</span> guidelines such as Minitab. Finally the function also allows to input the limits he also provides in the arguments the current upper and lower limit of the specification, in this case of 1â800 <span class="math inline">\(\mu m\)</span> +/- 25 <span class="math inline">\(\mu m\)</span> for tablet L.</p>
<p>The output of this function is a list with several elements inside and an automatically generated report.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="MSA.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(tablet_L_rr)</span></code></pre></div>
<pre><code>[1] &quot;anovaTable&quot; &quot;anovaRed&quot;   &quot;varComp&quot;    &quot;studyVar&quot;   &quot;ncat&quot;      </code></pre>
<p>Weâre now looking more in detail in some of them.</p>
</div>
<div id="gage_acceptance" class="section level3">
<h3>Gage acceptance</h3>
<p>Measurement system acceptance can be done based on varied criteria and is often done in progressive stages. In Research and Development contexts it is common that the measurement method is developed simultaneously with the end product. There are stages where the teams are conceiving the full industrial setup and there may be an overlap between product sub-assembly, assembly machine and measurement device. These different components of the production or assembly line may not reach maturity all at the same time. In such cases the Quality Assurance may give an approval for the measurement device based on tests done on products that cannot yet be commercialized. This means that the final conditions of usage are not fully tested. In other cases the measurement method is complex but time presses and the teams test the quality of the parts by other means such as the failure rates of the assemblies where the parts go. For all these reasons it is important to clarify at all times the assumptions used in the assessment of the measurement method.</p>
<div id="variance-components" class="section level4">
<h4>Variance components</h4>
<p>A common way to quickly judge if an equipment variability is high is to look at its variance. In our case the Quality Engineer can look at the variance components of the gage r&amp;R study by calling them from the <code>ss.rr</code> list.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="MSA.html#cb14-1" aria-hidden="true" tabindex="-1"></a>tablet_L_rr<span class="sc">$</span>varComp <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="MSA.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">VarComp</th>
<th align="right">%Contrib</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Total Gage R&amp;R</td>
<td align="right">1.6</td>
<td align="right">14.8</td>
</tr>
<tr class="even">
<td align="left">Repeatability</td>
<td align="right">1.6</td>
<td align="right">14.2</td>
</tr>
<tr class="odd">
<td align="left">Reproducibility</td>
<td align="right">0.1</td>
<td align="right">0.6</td>
</tr>
<tr class="even">
<td align="left">operator</td>
<td align="right">0.1</td>
<td align="right">0.6</td>
</tr>
<tr class="odd">
<td align="left">tablet:operator</td>
<td align="right">0.0</td>
<td align="right">0.0</td>
</tr>
<tr class="even">
<td align="left">Part-To-Part</td>
<td align="right">9.5</td>
<td align="right">85.2</td>
</tr>
<tr class="odd">
<td align="left">Total Variation</td>
<td align="right">11.1</td>
<td align="right">100.0</td>
</tr>
</tbody>
</table>
<p>Looking at the column %Contrib he sees that the total gage R&amp;R is too high when comparing with the established guidelines for gage acceptance:</p>
<ul>
<li>Less than 1%: the measurement system is acceptable</li>
<li>Between 1% and 9%: the measurement system is acceptable depending on the application,<br />
the cost of the measurement device, cost of repair, or other factors</li>
<li>Greater than 9%: the measurement system is not acceptable and should be improved.</li>
</ul>
<p>Another direct information from this assessment is that this variability comes from the repeatability mostly and not from the operator or from the interaction. This is very useful as a clue to start identifying where the variability comes from and how to try to improve it.</p>
<p>Although quick and providing a first impression, variance is not a very intuitive statistic as is not expressed in the measurement units. A much more common and speaking approach is to look into the standard deviation and compare it with the process variation but also with the specification itself.</p>
</div>
<div id="standard-deviation-components" class="section level4">
<h4>Standard deviation components</h4>
<p>The standard deviation values from the study can be pulled from the list with the same approach as before.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="MSA.html#cb15-1" aria-hidden="true" tabindex="-1"></a>tablet_L_rr<span class="sc">$</span>studyVar <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="MSA.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">StdDev</th>
<th align="right">StudyVar</th>
<th align="right">%StudyVar</th>
<th align="right">%Tolerance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Total Gage R&amp;R</td>
<td align="right">1.2810082</td>
<td align="right">7.686049</td>
<td align="right">38.46</td>
<td align="right">15.37</td>
</tr>
<tr class="even">
<td align="left">Repeatability</td>
<td align="right">1.2538441</td>
<td align="right">7.523064</td>
<td align="right">37.65</td>
<td align="right">15.05</td>
</tr>
<tr class="odd">
<td align="left">Reproducibility</td>
<td align="right">0.2624063</td>
<td align="right">1.574438</td>
<td align="right">7.88</td>
<td align="right">3.15</td>
</tr>
<tr class="even">
<td align="left">operator</td>
<td align="right">0.2624063</td>
<td align="right">1.574438</td>
<td align="right">7.88</td>
<td align="right">3.15</td>
</tr>
<tr class="odd">
<td align="left">tablet:operator</td>
<td align="right">0.0000000</td>
<td align="right">0.000000</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">Part-To-Part</td>
<td align="right">3.0744881</td>
<td align="right">18.446929</td>
<td align="right">92.31</td>
<td align="right">36.89</td>
</tr>
<tr class="odd">
<td align="left">Total Variation</td>
<td align="right">3.3306845</td>
<td align="right">19.984107</td>
<td align="right">100.00</td>
<td align="right">39.97</td>
</tr>
</tbody>
</table>
<p>The study variation table is has several columns. The StdDev column contains the square root of each individual variance. The StudyVar column has each StdDev multiplied by 6 which corresponds to the max variability for each component. Then each StudyVar is divided by the Total Variation and expressed in percentage in the %StudyVar column. The last column %Tolerance contains the division of the StudyVar by the specification interval (+/- 25 <span class="math inline">\(\mu m\)</span> in this case) expressed in percentage.</p>
<p>The Quality Engineer is now is a position to progress is assessment. According to the guidelines followed in the company the measurement method variation needs to be less than 10% of the process variation to be considered directly accepted. This is expressed here in the column %StudyVar and is 38.46% which is much above this limit. The guidelines state:</p>
<ul>
<li>Less than 10%: the measurement system is acceptable</li>
<li>Between 10% and 30%: the measurement system is acceptable depending on the application,<br />
the cost of the measurement device, cost of repair, or other factors</li>
<li>Greater that 30%: the measurement system is not acceptable and should be improved.</li>
</ul>
<div class="marginnote">
<p>Tablet thickness process variability obtained from a gage r&amp;R study done on a pharmaceutical tablet compaction process.</p>
<p><img src="4_msa_files/figure-html/unnamed-chunk-2-1.png" width="100%" /></p>
</div>
<p>As he already knew, the variability is coming mostly from the repeatability. With this approach he can also compare with the product specification tolerance which is 15.37%. The part to part variation corresponds to the bulk of the variability and this is what is expected.</p>
<p>Although the Quality Assurance department is not fully validating a measurement method with these figures there seems to be potential to improve the situation. At this moment we can consider that the micrometer allows to sort good parts from bad because the variability is lower than 30% of specification tolerance but it cannot be used to drive production as the variation is higher than 30% of the production process variation. When communicating this information to the Production Leader and the Engineering Manager they naturally raise different concerns which is how big is our process variability and how much is the process centered and such questions will be address in the Statistical Process Control subject.</p>
</div>
<div id="gage-report" class="section level4">
<h4>Gage report</h4>
<div class="figure" style="text-align: center"><span id="fig:img-tabletrnR"></span>
<img src="img/SixSigma.png" alt="gage r&amp;R report example" width="100%" />
<p class="caption">
Figure 4: gage r&amp;R report example
</p>
</div>
<p>To go further and check other examples, a good printed book from Springer written by the <code>{SixSigma}</code> package author <span class="citation"><a href="#ref-Cano2012" role="doc-biblioref">Emilio L. Cano</a> (<a href="#ref-Cano2012" role="doc-biblioref">2012</a>)</span>.</p>
</div>
<div id="negative-variance" class="section level4">
<h4>Negative variance</h4>
<p>Two important limitations exist in the current approach:</p>
<ol style="list-style-type: decimal">
<li>when the operators reproducibility is negative it is converted to zero.</li>
</ol>
<p><span class="citation">(<a href="#ref-Montgomery2012" role="doc-biblioref">Montgomery 2012</a>)</span> in page 557 adresses this case in the following way:</p>
<p><em>Notice that the estimate of one of the variance components,is negative. This is certainly not reasonable because by definition variances are nonnegative. Unfortunately, negative estimates of variance components can result when we use the analysis of variance method of estimation (this is considered one of its drawbacks). We can deal with this negative result in a variety of ways:</em></p>
<p><em>1) one possibility is to assume that the negative estimate means that the variance component is really zero and just set it to zero, leaving the other nonnegative estimates unchanged.</em></p>
<p><em>2) Another approach is to estimate the variance components with a method that assures nonnegative estimates (this can be done with the maximum likelihood approach).</em></p>
<p><em>3) Finally, we could note that the P-value for the interaction term â¦ is very large, take this as evidence that really is zero and that there is no interaction effect, and then fit a reduced model of the form that does not include the interaction term. This is a relatively easy approach and one that often works nearly as well as more sophisticated methods.</em></p>
<p>This final approach is also what the SixSigma package creators have foreseen and if we leave the argument alphaLim empty the non significant terms will be suppressed from the model, the Anova recalculated and the remaining tables updated accordingly. This can be finetuned with the argument alphaLim. Usually we consider a p value of 0.05 but we recommend to start with higher values such as 0.1 or 0.2 to avoid suppressing too quickly the factor which would result in a transfer of their variability into the repeatability.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="MSA.html#cb16-1" aria-hidden="true" tabindex="-1"></a>tablet_L_rr2 <span class="ot">&lt;-</span> <span class="fu">ss.rr</span>(</span>
<span id="cb16-2"><a href="MSA.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> tablet_L, </span>
<span id="cb16-3"><a href="MSA.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> thickness_micron, </span>
<span id="cb16-4"><a href="MSA.html#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">part =</span> tablet, </span>
<span id="cb16-5"><a href="MSA.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">appr =</span> operator, </span>
<span id="cb16-6"><a href="MSA.html#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">alphaLim =</span> <span class="fl">0.2</span>, <span class="co"># instead of 0.05 it is recommended to start higher</span></span>
<span id="cb16-7"><a href="MSA.html#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">errorTerm =</span> <span class="st">&quot;repeatability&quot;</span>,</span>
<span id="cb16-8"><a href="MSA.html#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">&quot;Micrometer FTR600</span><span class="sc">\n</span><span class="st">r&amp;R for tablet thickness&quot;</span>,</span>
<span id="cb16-9"><a href="MSA.html#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">sub =</span> <span class="st">&quot;Tablet L&quot;</span>,</span>
<span id="cb16-10"><a href="MSA.html#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">lsl =</span> <span class="dv">1775</span>,</span>
<span id="cb16-11"><a href="MSA.html#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">usl =</span> <span class="dv">1825</span></span>
<span id="cb16-12"><a href="MSA.html#cb16-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>Complete model (with interaction):

                 Df Sum Sq Mean Sq F value Pr(&gt;F)
tablet            4 1707.1   426.8 271.457 &lt;2e-16
operator          2   13.1     6.6   4.177 0.0166
tablet:operator   8   11.2     1.4   0.892 0.5237
Repeatability   210  330.1     1.6               
Total           224 2061.6                       

alpha for removing interaction: 0.2 


Reduced model (without interaction):

               Df Sum Sq Mean Sq F value Pr(&gt;F)
tablet          4 1707.1   426.8 272.533 &lt;2e-16
operator        2   13.1     6.6   4.194 0.0163
Repeatability 218  341.4     1.6               
Total         224 2061.6                       

Gage R&amp;R

                      VarComp %Contrib
Total Gage R&amp;R     1.63260451    14.73
  Repeatability    1.56591940    14.13
  Reproducibility  0.06668511     0.60
    operator       0.06668511     0.60
Part-To-Part       9.44885739    85.27
Total Variation   11.08146189   100.00

                      VarComp    StdDev  StudyVar %StudyVar %Tolerance
Total Gage R&amp;R     1.63260451 1.2777341  7.666405     38.38      15.33
  Repeatability    1.56591940 1.2513670  7.508202     37.59      15.02
  Reproducibility  0.06668511 0.2582346  1.549408      7.76       3.10
    operator       0.06668511 0.2582346  1.549408      7.76       3.10
Part-To-Part       9.44885739 3.0738994 18.443396     92.34      36.89
Total Variation   11.08146189 3.3288830 19.973298    100.00      39.95

Number of Distinct Categories = 3 </code></pre>
<p><img src="4_msa_files/figure-html/unnamed-chunk-3-1.png" width="100%" /></p>
<p>In our case when comparing the total gage r&amp;R with and without the interaction we see it changing from 38.46% to 38.38%.</p>
</div>
</div>
</div>
<div id="uncertainty" class="section level2">
<h2>Uncertainty</h2>
<p>A final step in the validation of our measurement device is now the calculation of the total measurement uncertainty.</p>
<p>In some reports the terminology uncertainty is prefered instead of gage r&amp;R.
In this case the formula usually used to evaluate the measurement uncertainty is:</p>
<p><span class="math display">\[
u^2=u_{repeat.}^2+ u_{reprod.}^2+ u_{cal.}^2
\]</span></p>
<p>where the repeatability and reproducibility members can be obtained from the variances calculated in the r&amp;R study</p>
<p><span class="math display">\[
u_{repeat}^2 = Ï_{repeat}^2\\
u_{reprod}^2 = Ï_{reprod}^2
\]</span>
These variance components can be directly obtained from the object generated by the function ss.rr of the {SixSigma} package. If we name our variable <span class="math inline">\(Ï_{repeat}^2\)</span> as repeat_var in R we have:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="MSA.html#cb18-1" aria-hidden="true" tabindex="-1"></a>repeat_var <span class="ot">&lt;-</span> tablet_L_rr<span class="sc">$</span>varComp[<span class="dv">2</span>,<span class="dv">1</span>]</span>
<span id="cb18-2"><a href="MSA.html#cb18-2" aria-hidden="true" tabindex="-1"></a>repeat_var</span></code></pre></div>
<pre><code>[1] 1.572125</code></pre>
<p>and for the reproducibility we have:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="MSA.html#cb20-1" aria-hidden="true" tabindex="-1"></a>reprod_var <span class="ot">&lt;-</span> tablet_L_rr<span class="sc">$</span>varComp[<span class="dv">3</span>,<span class="dv">1</span>]</span>
<span id="cb20-2"><a href="MSA.html#cb20-2" aria-hidden="true" tabindex="-1"></a>reprod_var</span></code></pre></div>
<pre><code>[1] 0.06885705</code></pre>
<p>The equipment manual mentions an accuracy of 0.001 mm. If we take this as the calibration uncertainty expressed as a standard deviation, this means we have:</p>
<p><span class="math display">\[
u_{cal} = 0.001 mm \Leftrightarrow 1 \mu m\\
u_{cal}^2 = 1^2 = 1
\]</span>
that we can assign in R to the variable calibration_var.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="MSA.html#cb22-1" aria-hidden="true" tabindex="-1"></a>calibration_var <span class="ot">&lt;-</span> <span class="dv">1</span></span></code></pre></div>
<p>We thus we have a uncertainty of:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="MSA.html#cb23-1" aria-hidden="true" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(reprod_var <span class="sc">+</span> repeat_var <span class="sc">+</span> calibration_var)</span>
<span id="cb23-2"><a href="MSA.html#cb23-2" aria-hidden="true" tabindex="-1"></a>u</span></code></pre></div>
<pre><code>[1] 1.62511</code></pre>
<p>Finally what is usually reported is the expanded uncertainty corresponding to 2 standard deviations. To be recalled that <span class="math inline">\(\pm\)</span> 2 std corresponds to 95% of the values when a repeative measurement is done. In this case we have <span class="math inline">\(U = 2*u\)</span>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="MSA.html#cb25-1" aria-hidden="true" tabindex="-1"></a>U <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> u</span>
<span id="cb25-2"><a href="MSA.html#cb25-2" aria-hidden="true" tabindex="-1"></a>U</span></code></pre></div>
<pre><code>[1] 3.25022</code></pre>
<p>For a specific measurement of say 1â800 <span class="math inline">\(\mu m\)</span> we then say: the tablet thickness is 1â800 <span class="math inline">\(\mu m\)</span> <span class="math inline">\(\pm\)</span> 3.3 <span class="math inline">\(\mu m\)</span>, at the 95 percent confidence level. Or written in short:</p>
<p>1â800 <span class="math inline">\(\mu m\)</span> <span class="math inline">\(\pm\)</span> 3.3 <span class="math inline">\(\mu m\)</span>, at a level of confidence of 95%</p>
<p>Knowing that the specification is [1â775; 1â825] <span class="math inline">\(\mu\)</span>m we have a specification range of 500. The expanded uncertainty corresponds to 13 %. This is another way of looking into the ratio between method variation and specification. This {SixSigma} package gave a similar result of 15.37%. To be noted that the calculation in by the package corresponds to 3 standard deviations and does not comprise the supplier calibration.</p>
<p>For further reading on the topic we recommend the booklet from <span class="citation"><a href="#ref-Bell2001" role="doc-biblioref">Bell</a> (<a href="#ref-Bell2001" role="doc-biblioref">2001</a>)</span>.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-AIAG2010" class="csl-entry">
Automotive Industry Action Group, AIAG -, ed. 2010. <a href="https://www.aiag.org/store/publications/details?ProductCode=MSA-4">https://www.aiag.org/store/publications/details?ProductCode=MSA-4</a>.
</div>
<div id="ref-Bell2001" class="csl-entry">
Bell, StÃ©phanie. 2001. <em>The Beginers Guide to Uncertainty of Measurement</em>. 2nd ed. Teddington, Middlesex, United Kingdom: National Phisical Laboratory. <a href="https://www.npl.co.uk/special-pages/guides/gpg11_uncertainty">https://www.npl.co.uk/special-pages/guides/gpg11_uncertainty</a>.
</div>
<div id="ref-Cano2012" class="csl-entry">
Emilio L. Cano, AndrÃ©s Redchuk, Javier M. Moguerza. 2012. <em>Six Sigma with r</em>. 1th ed. Vol. 36. Use r! Springer New York Heidelberg Dordrecht London: Springer.
</div>
<div id="ref-Montgomery2012" class="csl-entry">
Montgomery, Douglas C. 2012. <em>Design and Analysis of Experiments</em>. 8th ed. Wiley.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="design-for-six-sigma.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="DOE.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"search": false,
"info": false,
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
